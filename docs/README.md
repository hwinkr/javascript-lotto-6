# 해결해야 하는 현실 문제 정리

> 해결해야 하는 현실 문제인 **다리 건너기** 문제를 한 줄로 정리해보면, "위, 아래 두 칸만 이동할 수 있는 다리를 건너야 할 때 최종 게임 결과, 게임 성공 여부, 총 시도한 횟수는 어떻게 되는가?"로 정리해볼 수 있습니다.

# Domain

> 도메인은 현실 문제를 해결하기 위해 직접적으로 관여하는 코드 덩어리들 입니다. 다리 건너기 현실 문제를 해결하기 위해서 어떤 도메인들이 필요하고 구현해야 하는 도메인 로직은 무엇이 있는지에 대해서 정리합니다.

## BridgeMarker

`BridgeMarke` 도메인은 플레이어로부터 다리 길이를 입력으로 받아서, 길이 만큼의 다리를 만드는 책임을 가집니다. 0, 1 둘 중 하나의 숫자를 랜덤으로 뽑아서 해당 숫자에 해당하는 **다리 경로**를 생성합니다.

### 도메인 로직

- [x] 다리 길이를 입력으로 받아서 건널 수 있는 다리 경로를 생성한다.
- [x] 다리 길이에 대한 유효성 검사를 진행한다.

## Bridge

`Bridge` 도메인은 다리 건너기 게임에서 건널 수 있는 다리 경로 즉, 정답 다리 경로를 표현합니다. 정답을 가지고 있기 때문에, 플레이어가 만든 경로와 정답 경로를 비교하고 다리를 계속 건널 수 있는지와 다리를 모두 건넜는지를 판단하는 책임을 가집니다. 그리고, 판단 결과를 메시지 형태로 외부에 전달합니다.

### 멤버 변수

- bridge

### 도메인 로직

- [x] 다리를 계속 건널 수 있는지 판단한다.
- [x] 다리를 모두 건넜는지 판단한다.

## Player

`Player` 도메인은 다리 건너기 게임에 참여하는 플레이어를 표현합니다. 플레이어가 예상한 다리 경로, 플레이어의 게임 시도 횟수 를 가지고 있으며, 플레이어의 입력에 대한 유효성을 검증하는 책임을 가집니다.

### 멤버 변수

- tryCount
- playerBridge

### 도메인 로직

- [x] 플레이어의 입력에 대한 유효성을 검증한다.

- 다리 건너기 예측 경로 입력
- 다리 건너기 게임 재시작 입력

- [x] 플레이어의 다리 건너기 경로를 생성한다 (O or X)
- [x] 플레이어의 다리 건너기 게임 재시작 의사를 확인하는 로직을 구현한다.

## bridgeGame

`bridgeGame` 은 `Bridge`, `Player` 2개의 도메인을 멤버 변수로 가지며, 2개의 도메인 로직을 사용해서 현재까지의 다리 건너기 상황에 대한 메시지를 생성하고 뷰에 전달하는 책임을 가집니다.

- [x] **정답 경로**를 가지고 있는 `Bridge`, **플레이어가 예측한 경로**를 가지고 있는 `Player` 도메인 로직을 사용해서 현재까지의 다리 건너기 상황을 메시지로 표현한다. (O or X)
- [x] 다리를 모두 건너지 못했을 경우, 게임을 재시작 할 것인지 확인한다.

# View

> 뷰는 현실 문제 해결 과정에서 사용자의 입력을 받고, 게임 진행 상황과 게임 결과를 출력하는 코드 덩어리들 입니다. 뷰는 다시 InputView, OutputView로 나눌 수 있으며 구현해야 하는 뷰 로직에 대해서 정리합니다.

## InputView

- [x] 다리 길이를 입력으로 받는다.
- [x] 플레이어의 다리 예상 경로를 입력으로 받는다
- [x] 플레이어의 게임 재시작 신호를 입력으로 받는다.

## OutputView

`OutputView`는 **데이터를 어떻게 보여줄 지 결정**하는 책임을 가집니다. 따라서, 데이터를 받은 후 어떻게 보여줄지는 `OutputView`가 결정할 수 있어야 합니다.

- [x] 게임 시작 메세지를 출력한다.
- [x] 다리 건너기 진행 상황을 출력한다.
- [x] 게임 결과인 게임 성공 여부, 게임 시도 횟수를 출력한다.
- [x] 예외가 발생할 경우 예외 메세지를 출력한다.

# Controller

> `Controller`는 도메인 로직을 이용해서 결과를 생성하고, 그 결과를 뷰에 전달하는 역할을 합니다. 즉, 도메인과 뷰의 중간에서 연결해주는 역할을 합니다.

## BridgeGameController

- [x] 다리 건너기 게임 진행을 위해 도메인, 뷰를 연결한다

# 기타

> 상수 객체 설정 및 유틸 함수 구현

- [x] 다리 건너기 게임 구현에서 사용 할 상수 메세지 설정
- [x] 객체 불변성 유지를 위해서 Object.freeze를 사용한 `deepFreeze` 함수 구현
- [x] 자바스크립트 빌트인 메서드 최대한 활용
